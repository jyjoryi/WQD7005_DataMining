*------------------------------------------------------------*
* Training Log
Date:                22 December 2019
Time:                19:47:14 o'clock
*------------------------------------------------------------*
10866  proc freq data=EMWS1.Clus_VariableSet noprint;
10867  table ROLE*LEVEL/out=WORK.ClusMETA;
10868  run;

NOTE: There were 12 observations read from the data set EMWS1.CLUS_VARIABLESET.
NOTE: The data set WORK.CLUSMETA has 5 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.15 seconds
      cpu time            0.01 seconds
      

10869  proc print data=WORK.ClusMETA label noobs;
10870  var ROLE LEVEL COUNT;
10871  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
10872  title9 ' ';
10873  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
10874  run;

NOTE: There were 5 observations read from the data set WORK.CLUSMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

10875  title10;

10876  data WORK.M0Z0E98G;
10877  set WORK.M0Z0E98G;
10878  if role eq 'REJECTED' then role = 'INPUT';
10879  run;

NOTE: There were 6 observations read from the data set WORK.M0Z0E98G.
NOTE: The data set WORK.M0Z0E98G has 6 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

10888  *------------------------------------------------------------*;
10889  * Clus: Training;
10890  *------------------------------------------------------------*;
10891  *------------------------------------------------------------* ;
10892  * Clus: DMDBClass Macro ;
10893  *------------------------------------------------------------* ;
10894  %macro DMDBClass;
10895      all_day_maintain(ASC) closing_at_daily_high(ASC) closing_at_daily_low(ASC)
10896     day(ASC) month(ASC) open_equals_closing(ASC)
10897  %mend DMDBClass;
10898  *------------------------------------------------------------* ;
10899  * Clus: DMDBVar Macro ;
10900  *------------------------------------------------------------* ;
10901  %macro DMDBVar;
10902  
10903  %mend DMDBVar;
10904  *------------------------------------------------------------*;
10905  * Clus: Create DMDB;
10906  *------------------------------------------------------------*;
10907  proc dmdb batch data=EMWS1.FIMPORT3_train
10908  dmdbcat=WORK.Clus_DMDB
10909  maxlevel = 513
10910  out=WORK.Clus_DMDB
10911  ;
10912  class %DMDBClass;
10913  run;

NOTE: Records processed = 1823   Memory used = 511K.
NOTE: View EMWS1.FIMPORT3_TRAIN.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.07 seconds
      
NOTE: There were 1823 observations read from the data set EMWS1.FIMPORT3_DATA.
NOTE: There were 1823 observations read from the data set EMWS1.FIMPORT3_TRAIN.
NOTE: The data set WORK.CLUS_DMDB has 1823 observations and 6 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.15 seconds
      cpu time            0.07 seconds
      

10914  quit;
10915  *--- end code ---*;

10916  *------------------------------------------------------------* ;
10917  * Clus: Nominal Inputs Macro ;
10918  *------------------------------------------------------------* ;
10919  %macro DMVQNOMINAL;
10920      all_day_maintain closing_at_daily_high closing_at_daily_low day month
10921     open_equals_closing
10922  %mend DMVQNOMINAL;
10923  *------------------------------------------------------------*;
10924  * Clus: Run DMVQ procedure;
10925  *------------------------------------------------------------*;
10926  title;
10927  options nodate;
10928  proc dmvq data=WORK.Clus_DMDB dmdbcat=WORK.Clus_DMDB std=STD nominal=GLM ordinal=RANK
10929  ;
NOTE: The training set WORK.CLUS_DMDB.DATA has 6 variable(s).
NOTE: The DMVQ statement has finished with return code=0 and status=begin.
10930  input %DMVQNOMINAL / level=nominal;
NOTE: 6 input variable(s) defined for ID=I1.
NOTE: The INPUT statement has finished with return code=0 and status=variables.
10931  VQ maxc = 4 clusname=_SEGMENT_ CLUSLABEL="Segment Id" DISTLABEL="Distance";
NOTE: A maximum of 4 clusters have been requested.
NOTE: The VQ statement has finished with return code=0 and status=architecture.
10932  MAKE outvar=EMWS1.Clus_OUTVAR;

NOTE: 6 input variable(s).
NOTE: Number of cases=1823
NOTE: Sum of frequencies=1823
NOTE: Sum of weights=1823
NOTE: VARDEF=DF      
NOTE: Maximum number of categories=12
NOTE: The total number of variables is 6 with dimensionality 27.
NOTE: 6 variables will be used for clustering.
NOTE: Open output data set EMWS1.CLUS_OUTVAR.DATA with 28 variables.
NOTE: The data set EMWS1.CLUS_OUTVAR has 4 observations and 28 variables.
NOTE: The MAKE statement has finished with return code=0 and status=made.
10933  INITIAL radius=0
10934  ;
NOTE: 4 seeds were selected from data set WORK.CLUS_DMDB.DATA using the SEPARATE algorithm.
NOTE: The INITIAL statement has finished with return code=0 and status=initialized.
10935  TRAIN tech=FORGY
10936  ;
NOTE: X-Convergence criterion is satisfied.
NOTE: The TRAIN statement has finished with return code=0 and status=trained.
10937  SAVE outstat=EMWS1.Clus_OUTSTAT outmean=EMWS1.Clus_OUTMEAN;
NOTE: The data set EMWS1.CLUS_OUTSTAT has 40 observations and 30 variables.
NOTE: The data set EMWS1.CLUS_OUTMEAN has 4 observations and 36 variables.
NOTE: The SAVE statement has finished with return code=0 and status=statistics.
10938  code file="C:\Users\tan.joryi\Desktop\p\data_mining\03_explore_data\Gold_Price\Workspaces\EMWS1\Clus\DMVQSCORECODE.sas"
10939  group=Clus
10940  ;
NOTE: External file C:\Users\tan.joryi\Desktop\p\data_mining\03_explore_data\Gold_Price\Workspaces\EMWS1\Clus\DMVQSCORECODE.sas opened.
NOTE: The CODE statement has finished with return code=0 and status=statistics.
10941  run;

10942  quit;

NOTE: There were 1823 observations read from the data set WORK.CLUS_DMDB.
NOTE: PROCEDURE DMVQ used (Total process time):
      real time           0.12 seconds
      cpu time            0.03 seconds
      

10943  libname _spdslib;
WARNING: Libref _SPDSLIB is not assigned.

10944  *------------------------------------------------------------*;
10945  * Clus: Cluster Label;
10946  *------------------------------------------------------------*;
10947  data EMWS1.Clus_LABEL;
10948  length _SEGMENT_ 8 Label $80;
10949  format _SEGMENT_ 4.;
10950  label _SEGMENT_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentName_vlabel,  NOQUOTE))";
10951  label Label = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentLabel_vlabel,  NOQUOTE))";
10952  _SEGMENT_= 1;
10953  Label='Cluster1';
10954  output;
10955  _SEGMENT_= 2;
10956  Label='Cluster2';
10957  output;
10958  _SEGMENT_= 3;
10959  Label='Cluster3';
10960  output;
10961  _SEGMENT_= 4;
10962  Label='Cluster4';
10963  output;
10964  run;

NOTE: The data set EMWS1.CLUS_LABEL has 4 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.00 seconds
      

